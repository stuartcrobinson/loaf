{
  "cases": [
    {
      "name": "generates filtered instructions file",
      "input": {
        "repoPath": "/tmp/t_instruct-gen-integration",
        "allowedTools": ["file_write", "file_read"]
      },
      "setup": {
        "createTempDir": true
      },
      "verify": {
        "fileExists": "/tmp/t_instruct-gen-integration/NESL_INSTRUCTIONS.md",
        "fileContains": [
          "## Actions",
          "### `file_write`",
          "### `file_read`",
          "## Other Section"
        ],
        "fileNotContains": [
          "### `file_delete`",
          "### `exec`"
        ]
      }
    }
  ]
}